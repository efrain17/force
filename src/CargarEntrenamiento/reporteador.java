/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package CargarEntrenamiento;

import Perfil_Deportivo.ConexionEntrenamientoCargado;
import java.util.HashMap;
import java.util.Map;
import javax.swing.JOptionPane;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.util.JRLoader;
import net.sf.jasperreports.view.JasperViewer;
import static todosPersonas.Usuarios.obj;

/**
 *
 * @author CarlosEfrain
 */
public class reporteador extends javax.swing.JInternalFrame {
    ConexionEntrenamientoCargado objen=new ConexionEntrenamientoCargado();
    /**
     * Creates new form reporteador
     */
    public reporteador() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        comboTipoReporte = new javax.swing.JComboBox();
        jLabel2 = new javax.swing.JLabel();
        comboCategoria = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();
        btndeportistas = new javax.swing.JButton();
        jLabel4 = new javax.swing.JLabel();
        txtnombre = new javax.swing.JTextField();
        txtcedula = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        comboEntrenamiento = new javax.swing.JComboBox();
        btnreporte = new javax.swing.JButton();

        setClosable(true);

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel1.setText("TIPO REPORTE ");

        comboTipoReporte.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        comboTipoReporte.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "SELECCIONE TIPO DE REPORTE ", "TODOS LOS DEPORTISTAS CLASIFICADOS ", "DEPORTISTAS POR CATEGORIA", "ENTRENAMIENTO", "PROGRESO DE DEPORTISTA", "TODOS LOS DEPORTISTAS ", "TODOS LOS USUARIOS " }));
        comboTipoReporte.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboTipoReporteActionPerformed(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel2.setText("CATEGORIA");

        comboCategoria.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        comboCategoria.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "SELECCIONE CATEGORIA", "PREJUVENIL", "JUVENIL", "SENIOR ", "MASTER 1", "MASTER 2 ", "MASTER 3 " }));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N

        btndeportistas.setText("...");
        btndeportistas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btndeportistasActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel4.setText("DEPORTISTA ");

        txtnombre.setEditable(false);
        txtnombre.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        txtcedula.setEditable(false);
        txtcedula.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel5.setText("CEDULA");

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel6.setText("ENTRENAMIENTOS");

        comboEntrenamiento.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        comboEntrenamiento.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "SIN ENTRENAMIENTO" }));

        btnreporte.setIcon(new javax.swing.ImageIcon(getClass().getResource("/recursos_iconos/Reports.png"))); // NOI18N
        btnreporte.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnreporteActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabel4)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(btndeportistas, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(comboCategoria, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(comboTipoReporte, 0, 307, Short.MAX_VALUE)
                            .addComponent(txtnombre)))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtcedula, javax.swing.GroupLayout.PREFERRED_SIZE, 307, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(comboEntrenamiento, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(btnreporte, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(comboTipoReporte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(comboCategoria, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btndeportistas, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txtnombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtcedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(comboEntrenamiento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnreporte, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(0, 0, 0))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnreporteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnreporteActionPerformed
    /*SELECCIONE TIPO DE REPORTE 
    TODOS LOS DEPORTISTAS CLASIFICADOS 
    DEPORTISTAS POR CATEGORIA
    PROGRESO DE DEPORTISTA
    ENTRENAMIENTO DE DEPORTISTA
    TODOS LOS DEPORTISTAS 
    TODOS LOS USUARIOS */
    if (comboTipoReporte.getSelectedIndex()==1)
       {todosClasificado();} 
    else if (comboTipoReporte.getSelectedIndex()==2)
       {filtroCategoria();} 
    else if (comboTipoReporte.getSelectedIndex()==3)
       {Entrenamiento();}
    else if (comboTipoReporte.getSelectedIndex()==4)
        {perfil();}
    else if (comboTipoReporte.getSelectedIndex()==5)
        {todosDeportistas();}
    else if (comboTipoReporte.getSelectedIndex()==6)
        {todosUsuarios();}
    

    }//GEN-LAST:event_btnreporteActionPerformed

    private void btndeportistasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btndeportistasActionPerformed
   lstFederados1  federados2 = new lstFederados1 (new javax.swing.JFrame(), true);
   federados2.setLocationRelativeTo(null);
   federados2.setVisible(true); 
   
   if(!txtcedula.getText().equals("")){
      
        try {
        objen.consultarReporteEntreno(txtcedula.getText());} 
        catch (Exception e) {
       }
   }
   
    }//GEN-LAST:event_btndeportistasActionPerformed

    private void comboTipoReporteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboTipoReporteActionPerformed
      // JOptionPane.showMessageDialog(null,"si encuen");// JOptionPane.showMessageDialog(null,"si encuen");
    if (comboTipoReporte.getSelectedIndex()==0){
      comboCategoria.setSelectedIndex(0);
      btnreporte.setEnabled(false);}
    else if (comboTipoReporte.getSelectedIndex()==1)
       { validarTodosPersonas();} 
    else if (comboTipoReporte.getSelectedIndex()==2)
       {validarTodosPersonas();} 
    else if (comboTipoReporte.getSelectedIndex()==3)
       {validarPersona();}
    else if (comboTipoReporte.getSelectedIndex()==4)
        {validarPersona();}
    else if (comboTipoReporte.getSelectedIndex()==5)
        {validarTodosPersonas();}
    else if (comboTipoReporte.getSelectedIndex()==6)
        {validarTodosPersonas();
        }
    }//GEN-LAST:event_comboTipoReporteActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btndeportistas;
    private javax.swing.JButton btnreporte;
    private javax.swing.JComboBox comboCategoria;
    public static javax.swing.JComboBox comboEntrenamiento;
    private javax.swing.JComboBox comboTipoReporte;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    public static javax.swing.JTextField txtcedula;
    public static javax.swing.JTextField txtnombre;
    // End of variables declaration//GEN-END:variables
public void todosClasificado(){
     String template = System.getProperty("user.dir");
    String path = template+"/src/ReporteCategoria/report1.jasper";
    //String path="\\src\\reporte3\\report1.jasper";
        JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path);
            Map parametro=null;
                    parametro=new HashMap();
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, null, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path);
            //obj.cerrar();
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }
}
public void filtroCategoria(){
   // JOptionPane.showMessageDialog(null, "Si entro ");
    int fecha1=0, fecha2=0;
    if (comboCategoria.getSelectedIndex()>0){
    String template = System.getProperty("user.dir");
    String path3 = template+"/src/ReporteCategoria/reportCategoriaEdades.jasper";
    //String path="\\src\\reporte3\\report1.jasper";
    if (comboCategoria.getSelectedIndex()==1){fecha1=14;fecha2=18;}
    else if (comboCategoria.getSelectedIndex()==2){fecha1=19;fecha2=23;}
    else if (comboCategoria.getSelectedIndex()==3){fecha1=24;fecha2=39;}
    else if (comboCategoria.getSelectedIndex()==4){fecha1=40;fecha2=49;}
    else if (comboCategoria.getSelectedIndex()==5){fecha1=50;fecha2=59;}
    else if (comboCategoria.getSelectedIndex()==6){fecha1=60;fecha2=200;}
    
    JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path3);
            Map parametro=null;
                    parametro=new HashMap();
            parametro.put("fecha_1", fecha1);
            parametro.put("fecha_2", fecha2);
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, parametro, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path3);
            //obj.cerrar();
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }}
  }
////////////////////////////////////////////////////
public void Entrenamiento(){
    
    String template = System.getProperty("user.dir");
    String path3 = template+"/src/reporte4/entrenamientos.jasper";
    
    JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path3);
            Map parametro=null;
                    parametro=new HashMap();
            parametro.put("nombre", txtnombre.getText());
            parametro.put("entrenamiento",comboEntrenamiento.getSelectedItem().toString());
            parametro.put("iddeportista", txtcedula.getText());
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, parametro, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path3);
            //obj.cerrar();
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }
  }
//////////////////////////////////////////////////////////
public void perfil(){
    
    String template = System.getProperty("user.dir");
    String path3 = template+"/src/reporte4/reportPerfil.jasper";
    
    JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path3);
            Map parametro=null;
                    parametro=new HashMap();
           parametro.put("idfederado2", txtcedula.getText());
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, parametro, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path3);
            //obj.cerrar();
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }
  }
///////////////////////////////////////////////////
public void todosDeportistas(){
    
    String template = System.getProperty("user.dir");
    String path3 = template+"/src/reportePersonas/reportDAtosTodos.jasper";
    
    JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path3);
            Map parametro=null;
                    parametro=new HashMap();
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, null, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path3);
            //obj.cerrar();
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }
  }
/////////////////////////////////////////////
public void todosUsuarios(){
    
    String template = System.getProperty("user.dir");
    String path3 = template+"/src/reportePersonas/report1.jasper";
    
    JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path3);
            Map parametro=null;
                    parametro=new HashMap();
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, null, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path3);
            //obj.cerrar();
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }
  }
////////////////
public void f(){
String template = System.getProperty("user.dir");
    String path = template+"/src/reporte3/report1.jasper";
    //String path="\\src\\reporte3\\report1.jasper";
    String path2="\\reporte3\\report1.jasper";
        JasperReport jr=null;
        try {
            jr=(JasperReport)JRLoader.loadObject(path);
            Map parametro=null;
                    parametro=new HashMap();
            parametro.put("parameter1", 1);
            parametro.put("parameter1", 2);
            JasperPrint jp= null;
                    jp=JasperFillManager.fillReport(jr, parametro, obj.getcConnection());
            JasperViewer jv=null;
                    jv=new JasperViewer(jp,false);
            jv.setVisible(true);
            jv.setTitle(path);
            //obj.cerrar();
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null,"error en el reporte "+e.getMessage());
        }}


void validarTodosPersonas(){
    comboCategoria.setSelectedIndex(0);
    txtcedula.setText("");
    txtnombre.setText("");
    comboEntrenamiento.removeAllItems();
    btnreporte.setEnabled(true);
    btndeportistas.setEnabled(false);
}
void validarPersona(){
      btndeportistas.setEnabled(true);
      comboCategoria.setSelectedIndex(0);
}
}
